(this["webpackJsonpslate-demo"]=this["webpackJsonpslate-demo"]||[]).push([[0],{224:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);n(224);var r,c,i=n(0),a=n(32),o=n.n(a),l=n(28),s=(n(229),n(223)),b=n.n(s),j=(n(94),n(70)),u=n.n(j),d=n(5),O=(n(245),n(2)),g=(n(246),n(506)),h=n(507),x=n(508),f=n(509),p=n(510),m=n(511),v=n(512),y=n(513),w=n(222),k=n(34),C=(n(58),n(35)),N=n.n(C),L=n(27),E=n(15),S=(n(151),n(75)),D=n.n(S);!function(e){e.bold="bold",e.code="code",e.italic="italic",e.underline="underline",e.color="color",e.background="background"}(r||(r={})),function(e){e.orderList="orderList",e.listItem="listItem",e.unOrderList="unOrderList",e.image="image",e.link="link"}(c||(c={}));var I=[];for(var K in c)I.push(K);var M=function(e){e=e.trim();return/(((^https?:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%\/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)$/.test(e)},F=function(e,t){if(!e.selection)return!1;var n=O.a.marks(e);return!!n&&n[t]},T=function(e,t,n){F(e,t)?O.a.removeMark(e,t):O.a.addMark(e,t,n)},R=function(e,t){return t instanceof Array?t.some((function(t){return Object.prototype.hasOwnProperty.call(e,t)})):Object.prototype.hasOwnProperty.call(e,t)},_=new Map;_.set(c.orderList,c.listItem),_.set(c.unOrderList,c.listItem);var A=function(e){var t,n=Object(E.a)(_);try{for(n.s();!(t=n.n()).done;){var r=t.value[0];if(R(e,r))return!0}}catch(c){n.e(c)}finally{n.f()}return!1},z=function(e){var t=[];for(var n in c)R(e,n)&&t.push(n);return t},Y=n(10),H=function(e,t){var n,r=O.a.nodes(e,{match:function(e){return!O.a.isEditor(e)&&O.b.isElement(e)&&R(e,t)}}),c=Object(E.a)(r);try{for(c.s();!(n=c.n()).done;){var i=n.value[0];if(O.b.isElement(i))return R(i,t)}}catch(a){c.e(a)}finally{c.f()}return!1};function P(e){var t=e.type,n=e.value,r=e.icon,c=Object(k.e)();return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(N.a,{icon:r,onMouseDown:function(){c.selection&&function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=H(e,t),i=_.has(t);O.h.unwrapNodes(e,{split:!0,match:function(e){return!O.a.isEditor(e)&&O.b.isElement(e)&&A(e)}}),c?O.h.unsetNodes(e,_.get(t)):i?O.h.setNodes(e,Object(L.a)({},_.get(t),r)):O.h.setNodes(e,Object(L.a)({},t,r)),!c&&i&&O.h.wrapNodes(e,(n={},Object(L.a)(n,t,r),Object(L.a)(n,"children",[]),n))}(c,t,n)},type:H(c,t)?"primary":"text",children:t})})}n(150);var q=n(103),B=n.n(q),J=n(501),V=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(89, 89, 89)","rgb(140, 140, 140)","rgb(191, 191, 191)","rgb(217, 217, 217)","rgb(233, 233, 233)","rgb(245, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(245, 34, 45)","rgb(250, 84, 28)","rgb(250, 140, 22)","rgb(250, 219, 20)","rgb(82, 196, 26)","rgb(19, 194, 194)","rgb(24, 144, 255)","rgb(47, 84, 235)","rgb(114, 46, 209)","rgb(235, 47, 150)","rgb(255, 232, 230)","rgb(255, 236, 224)","rgb(255, 239, 209)","rgb(252, 252, 202)","rgb(228, 247, 210)","rgb(211, 245, 240)","rgb(212, 238, 252)","rgb(222, 232, 252)","rgb(239, 225, 250)","rgb(250, 225, 235)","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"];function W(e){var t=e.onColorChange;return Object(Y.jsx)("div",{style:{padding:10,backgroundColor:"white",boxShadow:"0 2px 10px rgb(0 0 0 / 12%)"},children:Object(Y.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 30px)",gridColumnGap:5,gridRowGap:5},children:V.map((function(e){return Object(Y.jsx)("span",{"data-color":e,onMouseDown:function(n){return t(e,n)},style:{width:20,height:20,backgroundColor:e,display:"inline-block",cursor:"pointer"}},e)}))})})}function G(e){var t=e.type,n=e.icon,r=Object(k.e)(),c=Object(i.useState)(void 0),a=Object(d.a)(c,2),o=a[0],l=a[1];Object(i.useEffect)((function(){if(r.selection){var e=O.a.marks(r);e&&e[t]?l(e[t]):l(void 0)}}),[r,r.selection,t]);return Object(Y.jsx)(B.a.Button,{overlay:Object(Y.jsx)(W,{onColorChange:function(e,n){r.selection&&T(r,t,Object(L.a)({},t,e))}}),icon:Object(Y.jsx)(J.a,{}),placement:"bottomRight",buttonsRender:function(){return[Object(Y.jsx)(N.a,{icon:n,type:"text",onMouseDown:function(){return T(r,t)},style:{borderBottom:o?"2px solid ".concat(o[t]):""},children:t}),Object(Y.jsx)(N.a,{type:"text",icon:Object(Y.jsx)(J.a,{})})]}})}n(176);var $,U=n(112),Z=n.n(U),Q=(n(177),n(93)),X=n.n(Q);function ee(e){var t=e.type,n=e.icon,r=Object(k.f)(),a=Object(i.useState)(""),o=Object(d.a)(a,2),l=o[0],s=o[1],b=Object(i.useState)(!1),j=Object(d.a)(b,2),u=j[0],g=j[1],h=Object(i.useState)(null),x=Object(d.a)(h,2),f=x[0],p=x[1];return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Z.a,{title:"\u8bf7\u8f93\u5165\u56fe\u7247url",visible:u,onOk:function(){if(!M(l))return D.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u56fe\u7247URL");!function(e,t,n){var r;M(t)?O.h.insertNodes(e,[(r={},Object(L.a)(r,c.image,{url:t}),Object(L.a)(r,"children",[{text:t}]),r)],{at:n||e.selection||O.a.end(e,[])}):D.a.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u56fe\u7247URL")}(r,l,f||r.selection),g(!1),s("")},onCancel:function(){return g(!1)},getContainer:!1,children:Object(Y.jsx)(X.a,{placeholder:"\u8bf7\u8f93\u5165\u56fe\u7247url",onChange:function(e){s(e.target.value)},value:l})}),Object(Y.jsx)(N.a,{icon:n,onMouseDown:function(e){e.preventDefault(),g(!0),p(r.selection)},type:"text",children:t})]})}function te(e){var t=e.type,n=e.value,r=e.icon,c=Object(k.e)();return Object(Y.jsx)(N.a,{icon:r,onMouseDown:function(){T(c,t,n)},type:F(c,t)?"primary":"text",children:t})}!function(e){e.ALT_KEY="altKey",e.SHIFT_KEY="shiftKey",e.CTRL_KEY="ctrlKey",e.META_KEY="metaKey"}($||($={}));var ne=new Map,re=function(e,t){var n=[$.CTRL_KEY,$.SHIFT_KEY,$.META_KEY,$.ALT_KEY].reduce((function(t,n){return t+(e[n]?n:"")}),"");if(ne.has(n+e.key)){var r=ne.get(n+e.key);r&&r(t,e)&&e.preventDefault()}},ce=function(e){var t=e.insertData,n=e.isVoid,r=e.normalizeNode,i=e.isInline,a=e.apply;return e.isVoid=function(e){return!!R(e,[c.image,c.link])||n(e)},e.isInline=function(e){return!!R(e,[c.link])||i(e)},e.insertData=function(n){var r=n.getData("text/plain");M(r)?function(e,t){O.h.insertNodes(e,[{link:{url:t,text:t},children:[{text:""}]}])}(e,r):t(n)},e.apply=function(e){a(e)},e.normalizeNode=function(t){var n=Object(d.a)(t,2),c=n[0],i=n[1];if(O.b.isElement(c)&&c.children.length>1&&O.g.isText(c.children[0])&&0===c.children[0].text.length){if(r(t),!e.selection)return;O.h.setSelection(e,{anchor:{offset:0,path:i.concat(0)},focus:{offset:0,path:i.concat(0)}})}else r(t)},e},ie=(n(327),n(115)),ae=n.n(ie),oe=n(503),le=n(504),se=n(505),be=n(502),je=null;function ue(e){var t=e.children,n=e.element,r=e.attributes,a=n[c.link];void 0===a&&console.error(n,"\u6ca1\u6709link\u53c2\u6570");var o=Object(i.useState)(!1),s=Object(d.a)(o,2),b=s[0],j=s[1],g={url:a.url,text:a.text},h=Object(k.e)(),x={visible:b,title:"\u7f16\u8f91\u8d85\u94fe\u63a5",getContainer:function(){return document.body},destroyOnClose:!0,onOk:function(){j(!1);var e=p.getFieldsValue();if(je){var t=O.a.parent(h,je),n=Object(d.a)(t,2),r=n[0],i=n[1];R(r,c.link)&&O.a.withoutNormalizing(h,(function(){var t;O.h.delete(h,{at:i}),O.h.insertNodes(h,[(t={},Object(L.a)(t,c.link,{url:e.url,text:e.text}),Object(L.a)(t,"children",[{text:""}]),t)],{at:i})}))}},onCancel:function(){j(!1)}},f=Object(be.a)(),p=Object(d.a)(f,1)[0],m=Object(Y.jsxs)("div",{className:"link-tooltip",children:[Object(Y.jsxs)(N.a,{type:"text",onMouseDown:function(){je=h.selection,j(!0)},children:[Object(Y.jsx)(oe.a,{}),"\u7f16\u8f91"]}),Object(Y.jsxs)(N.a,{type:"text",onClick:function(){return window.open(a.url)},children:[Object(Y.jsx)(le.a,{}),"\u8bbf\u95ee"]}),Object(Y.jsxs)(N.a,{type:"text",onMouseDown:function(){return function(e){if(e){var t=O.a.parent(h,e),n=Object(d.a)(t,2),r=n[0],i=n[1];if(!R(r,c.link))return;O.a.withoutNormalizing(h,(function(){O.h.unsetNodes(h,c.link,{at:i}),O.h.insertNodes(h,{text:g.text},{at:i})}))}}(h.selection)},children:[Object(Y.jsx)(se.a,{}),"\u53d6\u6d88\u94fe\u63a5"]})]});return Object(Y.jsxs)("span",Object(l.a)(Object(l.a)({},r),{},{children:[Object(Y.jsxs)(u.a,{title:m,placement:"bottom",color:"white",trigger:"click",children:[Object(Y.jsx)("span",{style:{color:"#096DD9"},children:g.text}),Object(Y.jsx)("span",{children:t})]}),Object(Y.jsx)(Z.a,Object(l.a)(Object(l.a)({},x),{},{children:Object(Y.jsxs)(ae.a,{form:p,initialValues:g,children:[Object(Y.jsx)(ae.a.Item,{label:"\u94fe\u63a5",name:"url",children:Object(Y.jsx)(X.a,{placeholder:"\u8f93\u5165\u94fe\u63a5"})}),Object(Y.jsx)(ae.a.Item,{label:"\u6587\u672c",name:"text",children:Object(Y.jsx)(X.a,{placeholder:"\u8f93\u5165\u6587\u672c"})})]})}))]}))}function de(e){var t=e.element,n=e.attributes,r=e.children,i=Object(k.d)(),a=Object(k.c)(),o=t[c.image];return Object(Y.jsxs)("span",Object(l.a)(Object(l.a)({},n),{},{children:[Object(Y.jsx)("span",{contentEditable:"false",suppressContentEditableWarning:!0,children:Object(Y.jsx)("img",{src:o&&o.url,alt:"\u56fe\u7247",style:{maxWidth:"100%",maxHeight:"20em",boxShadow:"".concat(i&&a?"0 0 0 3px #B4D5FF":"none")}})}),r]}))}function Oe(e){var t=e.attributes,n=e.children,c=e.leaf,i={};return n||(n=Object(Y.jsx)(Y.Fragment,{})),c[r.bold]&&(i=Object.assign(i,c[r.bold])),c[r.italic]&&(i=Object.assign(i,c[r.italic])),c[r.underline]&&(i=Object.assign(i,c[r.underline])),c[r.color]&&(i=Object.assign(i,c[r.color])),c[r.background]&&(i=Object.assign(i,c[r.background])),Object(Y.jsx)("span",Object(l.a)(Object(l.a)({},t),{},{style:i,children:n}))}var ge=[k.g,w.a,ce];function he(e){var t=e.nodes,n=e.setNodeList,a=Object(i.useMemo)((function(){return ge.reduce((function(e,t){return t(e)}),Object(O.i)())}),[]),o=Object(i.useCallback)((function(e){return Object(Y.jsx)(Oe,Object(l.a)(Object(l.a)({},e),{},{children:e.children}))}),[]);return console.log(Object(k.d)(),Object(k.c)()),Object(Y.jsx)("div",{className:"slate-editor",children:Object(Y.jsxs)(k.b,{value:t,editor:a,onChange:n,children:[Object(Y.jsx)(te,{icon:Object(Y.jsx)(g.a,{}),type:r.bold,value:{fontWeight:"bold"}}),Object(Y.jsx)(te,{icon:Object(Y.jsx)(h.a,{}),type:r.italic,value:{fontStyle:"oblique"}}),Object(Y.jsx)(te,{icon:Object(Y.jsx)(x.a,{}),type:r.underline,value:{textDecoration:"underline"}}),Object(Y.jsx)(G,{type:r.color,icon:Object(Y.jsx)(f.a,{})}),Object(Y.jsx)(G,{type:r.background,icon:Object(Y.jsx)(p.a,{})}),Object(Y.jsx)(P,{icon:Object(Y.jsx)(m.a,{}),type:c.orderList,value:[]}),Object(Y.jsx)(P,{icon:Object(Y.jsx)(v.a,{}),type:c.unOrderList,value:[]}),Object(Y.jsx)(ee,{icon:Object(Y.jsx)(y.a,{}),type:c.image}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(k.a,{className:"slate-editor-context",renderElement:function(e){var t=e.element,n=e.attributes,r=e.children;return t[c.image]&&(r=Object(Y.jsx)(de,Object(l.a)(Object(l.a)({},e),{},{children:e.children}))),t[c.link]&&(r=Object(Y.jsx)(ue,Object(l.a)(Object(l.a)({},e),{},{children:e.children}))),t[c.orderList]&&(r=Object(Y.jsx)("ol",Object(l.a)(Object(l.a)({},n),{},{children:r}))),t[c.unOrderList]&&(r=Object(Y.jsx)("ul",Object(l.a)(Object(l.a)({},n),{},{children:r}))),t[c.listItem]&&(r=Object(Y.jsx)("li",Object(l.a)(Object(l.a)({},n),{},{children:r}))),R(t,I)||(r=Object(Y.jsx)("p",Object(l.a)(Object(l.a)({},n),{},{children:r}))),r},renderLeaf:o,onKeyDown:function(e){return re(e,a)},placeholder:"rich demo",spellCheck:!0,autoFocus:!0})]})})}var xe=[{children:[{text:"\u4f7f\u7528Slate + TypeScript + React Hook + Antd\u5b9e\u73b0\u7684\u6570\u636e\u9a71\u52a8\u7684\u5bcc\u6587\u672c\u7f16\u8f91\u5668\uff0c\u6682\u65f6\u4e0d\u652f\u6301\u4ee3\u7801\u9ad8\u4eae\uff0c\u4f7f\u7528\u7c7b\u4f3cVirtual Dom\u7684\u673a\u5236\u548c\u601d\u60f3\u53bb\u5b9e\u73b0\u7f16\u8f91\u5668\u529f\u80fd.\u6269\u5c55\u6027\u5c06\u66f4\u597d"}]},{image:{url:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"},children:[{text:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}]},{orderList:[],children:[{children:[{text:"\u6709\u987a\u5e8f\u5217\u8868"}],listItem:[]},{children:[{text:"\u6709\u987a\u5e8f\u5217\u8868\u52a0\u7c97\u6837\u5f0f",bold:{fontWeight:"bold"}}],listItem:[]}]},{children:[{bold:{fontWeight:"bold"},text:""}]},{unOrderList:[],children:[{children:[{text:"\u65e0\u987a\u5e8f\u5217\u8868",italic:{fontStyle:"oblique"}}],listItem:[]},{children:[{italic:{fontStyle:"oblique"},text:"\u65e0\u987a\u5e8f\u5217\u8868\u52a0\u989c\u8272",color:{color:"rgb(235, 47, 150)"}}],listItem:[]}]}];var fe=function(){var e=Object(i.useState)(xe),t=Object(d.a)(e,2),n=t[0],r=t[1];n.length<1&&r([{children:[{text:""}]}]),z(n[n.length-1]).length&&r(n.concat({children:[{text:""}]}));var c={columns:[{title:"\u8282\u70b9\u7c7b\u578b",dataIndex:"type",key:"type",width:100,render:function(e,t){var n=O.b.isElement(t)?z(t):[];return JSON.stringify(n)}},{title:"\u8282\u70b9value",dataIndex:"children",key:"children",width:100,render:function(e,t){return Object(Y.jsx)(u.a,{color:"white",title:Object(Y.jsx)("pre",{style:{color:"black"},children:JSON.stringify(t,null,2)}),children:Object(Y.jsx)("p",{style:{width:100,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:JSON.stringify(t)})})}}],pagination:!1,rowKey:function(){return Math.random()},dataSource:n};return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsx)("div",{className:"node-list",children:Object(Y.jsx)(b.a,Object(l.a)({},c))}),Object(Y.jsx)(he,{nodes:n,setNodeList:r})]})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,514)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};o.a.render(Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(fe,{})}),document.getElementById("root")),pe()}},[[493,1,2]]]);
//# sourceMappingURL=main.cd3666b6.chunk.js.map